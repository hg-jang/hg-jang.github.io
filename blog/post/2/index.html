<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>킹왕짱바다 - 블로그</title><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="마크다운 파싱이 제대로 되지 않는다면"/><meta name="keyword" content="remark,markdown,html,markup,remark-gfm,remark plugin"/><meta name="robots" content="index, follow"/><meta property="og:type" content="website"/><meta property="og:title" content="마크다운 파싱이 제대로 되지 않는다면"/><meta property="og:description" content="remark와 remark plugin 사용하여 마크다운 파싱하기"/><meta property="og:image" content="https://s3.ap-northeast-2.amazonaws.com/king-bada.dev/blog/me_1.png"/><meta property="og:image:width" content="630"/><meta property="og:image:height" content="630"/><meta property="og:url" content="/blog/2"/><meta property="twitter:card" content="summary"/><meta property="twitter:title" content="마크다운 파싱이 제대로 되지 않는다면"/><meta property="twitter:description" content="remark와 remark plugin 사용하여 마크다운 파싱하기"/><meta property="twitter:image" content="https://s3.ap-northeast-2.amazonaws.com/king-bada.dev/blog/me_1.png"/><meta name="next-head-count" content="17"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><link rel="preload" href="https://hg-jang.github.io/_next/static/css/0b10ad48e38cca54.css" as="style"/><link rel="stylesheet" href="https://hg-jang.github.io/_next/static/css/0b10ad48e38cca54.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="https://hg-jang.github.io/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="https://hg-jang.github.io/_next/static/chunks/webpack-e257f461d45a9e3b.js" defer=""></script><script src="https://hg-jang.github.io/_next/static/chunks/framework-df7ee52d1c137bc3.js" defer=""></script><script src="https://hg-jang.github.io/_next/static/chunks/main-d1841ffbf0c00f48.js" defer=""></script><script src="https://hg-jang.github.io/_next/static/chunks/pages/_app-e504e3793ddd47b9.js" defer=""></script><script src="https://hg-jang.github.io/_next/static/chunks/453-875485057ff901bb.js" defer=""></script><script src="https://hg-jang.github.io/_next/static/chunks/830-744088323c11a854.js" defer=""></script><script src="https://hg-jang.github.io/_next/static/chunks/pages/blog/post/%5BrealSlug%5D-2ccac6f29b73ded8.js" defer=""></script><script src="https://hg-jang.github.io/_next/static/RfFlvUuwqnhk6hviF1wc4/_buildManifest.js" defer=""></script><script src="https://hg-jang.github.io/_next/static/RfFlvUuwqnhk6hviF1wc4/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class=" bg-[color:var(--primary-white)] dark:bg-[color:var(--primary-black)] text-[color:var(--primary-black)] dark:text-[color:var(--primary-white)] "><nav class=" wide-wrapper flex justify-between items-center fixed top-2 left-1/2 z-50 translate-x-[-50%] w-full py-2 px-6 bg-[color:var(--primary-white)] border-2 border-solid border-[color:var(--primary-blue)] rounded text-[color:var(--primary-black)] shadow-normal dark:text-[color:var(--primary-white)] dark:bg-[color:var(--primary-black)] dark:shadow-whiteNormal "><a class="text-inherit no-underline hover:text-orange-400" href="/">바다</a><ul></ul><div class="flex"><a class="text-inherit no-underline py-2 px-6 bg-orange-400 hover:bg-orange-400/80 rounded-full" href="/info/">Contact</a></div></nav><label class="inline-block fixed top-2 right-2 w-9 h-20 my-0 mx-[10px]"><input type="checkbox" class=" hidden peer " readonly=""/><span class=" absolute top-0 left-0 right-0 bottom-0 bg-[color:var(--primary-white)] rounded-full duration-300 cursor-pointer border border-solid border-[color:var(--primary-blue)] before:absolute before:content-[&#x27;&#x27;] before:w-6 before:h-6 before:left-1/2 before:top-1/2 before:translate-x-[-50%] before:translate-y-[-140%] before:bg-[color:var(--primary-black)] before:duration-300 before:rounded-full peer-checked:bg-[color:var(--primary-black)] peer-checked:before:bg-[color:var(--primary-white)] peer-checked:before:translate-y-[30%] "></span></label><main><div class="wrapper mx-auto mb-4 pt-32"><header class="wrapper"><div class=" w-full py-2 text-[color:var(--primary-blue)] font-oswald "><h1 class="mt-0 mb-2 text-5xl text-inherit font-bold">마크다운 파싱이 제대로 되지 않는다면</h1><span class="block mt-0 mb-1 text-base">2023-02-10</span><ul class="flex gap-2 m-0 p-0"><li class=" inline-flex justify-center items-center py-1 px-2 bg-blue-300 rounded font-notoSans font-normal text-xs cursor-pointer hover:bg-blue-400 ">remark</li><li class=" inline-flex justify-center items-center py-1 px-2 bg-blue-300 rounded font-notoSans font-normal text-xs cursor-pointer hover:bg-blue-400 ">markdown</li><li class=" inline-flex justify-center items-center py-1 px-2 bg-blue-300 rounded font-notoSans font-normal text-xs cursor-pointer hover:bg-blue-400 ">html</li><li class=" inline-flex justify-center items-center py-1 px-2 bg-blue-300 rounded font-notoSans font-normal text-xs cursor-pointer hover:bg-blue-400 ">markup</li><li class=" inline-flex justify-center items-center py-1 px-2 bg-blue-300 rounded font-notoSans font-normal text-xs cursor-pointer hover:bg-blue-400 ">remark-gfm</li><li class=" inline-flex justify-center items-center py-1 px-2 bg-blue-300 rounded font-notoSans font-normal text-xs cursor-pointer hover:bg-blue-400 ">remark plugin</li></ul></div></header></div><div class="wrapper mx-auto my-0"><article class="post-container pt-4 pb-12 px-0"><h1>remark로 마크다운 파싱하기</h1>
<p><code>remark</code>는 마크다운을 파싱하고 직렬화하여 출력하는데 사용된다.
사용방법은 매우 간단한데 아래 코드를 참고하자.</p>
<pre><code>import { remark } from 'remark'
import html from 'remark-html'

/**
 * @param markdown 마크다운으로 이뤄진 문자
 * @return html로 파싱된 문자
 */
export default async function markdownToHtml(markdown: string) {
  const result = await remark()
    .use(html)
    .process(markdown)
  
  return result.toString()
}

// ----------
&#x3C;div dangerouslySetInnerHTML={{ __html: post.content }}>&#x3C;/div>
</code></pre>
<h1>파싱이 제대로 안되네?</h1>
<p>이 블로그는 마크다운 파일을 파일시스템에서 가져와 html로 파싱하여 보여준다.
<code>제목</code>, <code>진하게</code>, <code>인라인 코드블럭</code> 등은 무난하게 파싱되지만, <code>~~</code>을 사용한 <code>미들라인 강조</code>는 문자열 그대로 노출이 되었다.</p>
<h1>Plugin 사용하면 됨</h1>
<p><code>remark</code>의 재밌는 점은 다양한 <code>플러그인</code>을 붙일 수 있다는 것이다.
필요에 따라 플러그인을 붙이면 된다.</p>
<pre><code>import { remark } from 'remark'
import html from 'remark-html'
import remarkGfm from 'remark-gfm'

export default async function markdownToHtml(markdown: string) {
  const result = await remark()
    .use(html)
    .use(remarkGfm)
    .process(markdown)
  
  return result.toString()
}
</code></pre>
<p>이제 미들라인 강조가 제대로 표시된다. 그 외에 체크리스트, 테이블 등도 이 플러그인을 통해 사용가능하다고 한다.</p>
<h1>이미지 가운데 정렬 할 방법은 없나?</h1>
<p>아쉬운 점은 이미지 가운데 정렬을 위한 플러그인은 찾지 못했다.
마크다운 문서에서 <code>img</code>태그로 가운데 정렬을 해서 remark로 파싱하면 마크업 부분이 통째로 사라진다.
이제 보니 구린 것 같다.
.<br>
.<br>
.<br>
.<br>
.<br>
<img src="https://s3.ap-northeast-2.amazonaws.com/king-bada.dev/blog/pepe_1.jpeg" alt="Picture"></p>
<p>마크다운 딱 대 ㅋㅋ</p>
</article></div><span class="block wrapper mx-auto text-2xl font-bold">댓글</span><section></section></main><footer class="py-6 bg-[color:var(--primary-black)] dark:bg-[color:var(--primary-white)]"><div class="wrapper mx-auto my-0 text-[color:var(--primary-white)] dark:text-[color:var(--primary-black)]"><h1 class="mt-0 mb-2 text-lg text-inherit font-bold italic">킹왕짱바다</h1><div class="flex flex-row text-inherit"><div class="flex flex-col w-16"><span class="flex justify-between"><span>이</span><span>름</span></span><span class="flex justify-between"><span>이</span><span>메</span><span>일</span></span></div><div class="flex flex-col mx-1"><span>:</span><span>:</span></div><div class="flex flex-col"><span>장현광</span><span>wkdgusrhkd@gmail.com</span></div></div><h2 class="mt-1 mb-0 text-base font-normal">© Created by King-Bada, 2023 with Next.js &amp; tailwindcss.</h2></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"2","id":2,"title":"마크다운 파싱이 제대로 되지 않는다면","date":"2023-02-10","tags":["remark","markdown","html","markup","remark-gfm","remark plugin"],"summary":"remark와 remark plugin 사용하여 마크다운 파싱하기","content":"\u003ch1\u003eremark로 마크다운 파싱하기\u003c/h1\u003e\n\u003cp\u003e\u003ccode\u003eremark\u003c/code\u003e는 마크다운을 파싱하고 직렬화하여 출력하는데 사용된다.\n사용방법은 매우 간단한데 아래 코드를 참고하자.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eimport { remark } from 'remark'\nimport html from 'remark-html'\n\n/**\n * @param markdown 마크다운으로 이뤄진 문자\n * @return html로 파싱된 문자\n */\nexport default async function markdownToHtml(markdown: string) {\n  const result = await remark()\n    .use(html)\n    .process(markdown)\n  \n  return result.toString()\n}\n\n// ----------\n\u0026#x3C;div dangerouslySetInnerHTML={{ __html: post.content }}\u003e\u0026#x3C;/div\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e파싱이 제대로 안되네?\u003c/h1\u003e\n\u003cp\u003e이 블로그는 마크다운 파일을 파일시스템에서 가져와 html로 파싱하여 보여준다.\n\u003ccode\u003e제목\u003c/code\u003e, \u003ccode\u003e진하게\u003c/code\u003e, \u003ccode\u003e인라인 코드블럭\u003c/code\u003e 등은 무난하게 파싱되지만, \u003ccode\u003e~~\u003c/code\u003e을 사용한 \u003ccode\u003e미들라인 강조\u003c/code\u003e는 문자열 그대로 노출이 되었다.\u003c/p\u003e\n\u003ch1\u003ePlugin 사용하면 됨\u003c/h1\u003e\n\u003cp\u003e\u003ccode\u003eremark\u003c/code\u003e의 재밌는 점은 다양한 \u003ccode\u003e플러그인\u003c/code\u003e을 붙일 수 있다는 것이다.\n필요에 따라 플러그인을 붙이면 된다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eimport { remark } from 'remark'\nimport html from 'remark-html'\nimport remarkGfm from 'remark-gfm'\n\nexport default async function markdownToHtml(markdown: string) {\n  const result = await remark()\n    .use(html)\n    .use(remarkGfm)\n    .process(markdown)\n  \n  return result.toString()\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이제 미들라인 강조가 제대로 표시된다. 그 외에 체크리스트, 테이블 등도 이 플러그인을 통해 사용가능하다고 한다.\u003c/p\u003e\n\u003ch1\u003e이미지 가운데 정렬 할 방법은 없나?\u003c/h1\u003e\n\u003cp\u003e아쉬운 점은 이미지 가운데 정렬을 위한 플러그인은 찾지 못했다.\n마크다운 문서에서 \u003ccode\u003eimg\u003c/code\u003e태그로 가운데 정렬을 해서 remark로 파싱하면 마크업 부분이 통째로 사라진다.\n이제 보니 구린 것 같다.\n.\u003cbr\u003e\n.\u003cbr\u003e\n.\u003cbr\u003e\n.\u003cbr\u003e\n.\u003cbr\u003e\n\u003cimg src=\"https://s3.ap-northeast-2.amazonaws.com/king-bada.dev/blog/pepe_1.jpeg\" alt=\"Picture\"\u003e\u003c/p\u003e\n\u003cp\u003e마크다운 딱 대 ㅋㅋ\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/blog/post/[realSlug]","query":{"realSlug":"2"},"buildId":"RfFlvUuwqnhk6hviF1wc4","assetPrefix":"https://hg-jang.github.io","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>